"use strict";(self["webpackChunkpro"]=self["webpackChunkpro"]||[]).push([[641],{19641:function(a,t,e){e.r(t),e.d(t,{default:function(){return h}});var s=function(){var a=this,t=a._self._c;return t("div",[t("h3",{staticStyle:{"text-align":"center"}},[a._v("个人信息页面")]),a.avator_state||a.email_state||a.password_state?t("message",{attrs:{avator_state:a.avator_state,email_state:a.email_state,password_state:a.password_state},on:{avator_state:a.avatorState,email_state:a.emailState,password_state:a.passwordState}}):a._e(),t("div",{staticClass:"box"},[t("el-button",{on:{click:a.avatorState}},[a._v("更改头像")]),t("el-button",{on:{click:a.emailState}},[a._v("邮箱绑定")]),t("el-button",{on:{click:a.passwordState}},[a._v("密码变更")])],1)],1)},o=[],l=function(){var a=this,t=a._self._c;return t("div",{staticClass:"container"},[a.avator_state?t("div",{staticClass:"avator"},[t("el-upload",{ref:"upload",staticClass:"avatar-uploader",attrs:{action:"https://www.chengzier.cn:8000/api/changesuperavator",name:"avator","show-file-list":!1,"on-success":a.handleAvatarSuccess,"auto-upload":!1,"before-upload":a.beforeAvatarUpload,headers:a.headers}},[a.imageUrl?t("img",{staticClass:"avatar",attrs:{src:a.imageUrl}}):t("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),t("el-button",{staticClass:"upload_avatar",on:{click:a.upload}},[a._v("提交")])],1):a._e(),a.email_state?t("div",{staticClass:"email"},[t("div",{staticStyle:{margin:"20px"}}),t("el-form",{attrs:{"label-position":a.labelPosition}},[t("el-form-item",{attrs:{label:"邮箱号"}},[t("el-input",{model:{value:a.name,callback:function(t){a.name=t},expression:"name"}}),t("el-button",{on:{click:a.emailCaptcha}},[a._v("发送验证码")])],1),t("el-form-item",{attrs:{label:"验证码"}},[t("el-input",{model:{value:a.Captcha,callback:function(t){a.Captcha=t},expression:"Captcha"}})],1),t("div",{staticClass:"btn"},[t("el-button",{on:{click:a.emailConfim}},[a._v("确认")]),t("el-button",{on:{click:a.cancel}},[a._v("取消")])],1)],1)],1):a._e(),a.password_state?t("div",{staticClass:"password"},[t("div",{staticStyle:{margin:"20px"}}),t("el-form",{attrs:{"label-position":a.labelPosition}},[t("el-form-item",{attrs:{label:"旧密码"}},[t("el-input",{model:{value:a.oldPassword,callback:function(t){a.oldPassword=t},expression:"oldPassword"}}),t("el-button",{on:{click:a.passwordCaptcha}},[a._v("发送验证码")])],1),t("el-form-item",{attrs:{label:"新密码"}},[t("el-input",{model:{value:a.newPassword,callback:function(t){a.newPassword=t},expression:"newPassword"}})],1),t("div",{staticClass:"btn"},[t("el-button",{on:{click:a.passwordConfirm}},[a._v("确认")]),t("el-button",{on:{click:a.cancel}},[a._v("取消")])],1)],1)],1):a._e()])},i=[],r=(e(46229),e(17330),e(62062),e(32900)),n={data(){return{imageUrl:"",headers:{Authorization:""},labelPosition:"right",name:"",Captcha:"",oldPassword:"",newPassword:""}},props:{avator_state:Boolean,email_state:Boolean,password_state:Boolean},methods:{upload(){this.headers["Authorization"]="Bearer "+this.$store.state.token,this.$refs.upload.submit(),this.$emit("avator_state")},handleAvatarSuccess(a,t){this.imageUrl=URL.createObjectURL(t.raw),console.log(this.imageUrl)},beforeAvatarUpload(a){const t="image/jpeg"===a.type,e=a.size/1024/1024<2;return t||this.$message.error("上传头像图片只能是 JPG 格式!"),e||this.$message.error("上传头像图片大小不能超过 2MB!"),t&&e},cancel(){this.email_state?this.$emit("email_state"):this.password_state&&this.$emit("password_state")},async emailCaptcha(a){const t=await(0,r.ZK)(a);console.log(t)},async emailConfim(){const a=await(0,r.B$)();this.$emit("email_state"),console.log(a)},async passwordCaptcha(){const a=await(0,r.c1)();console.log(a)},passwordConfirm(){this.$emit("password_state")}}},c=n,d=e(1001),p=(0,d.Z)(c,l,i,!1,null,null,null),m=p.exports,u={data(){return{avator_state:!1,email_state:!1,password_state:!1}},components:{message:m},methods:{avatorState(){this.avator_state=!this.avator_state},emailState(){this.email_state=!this.email_state},passwordState(){this.password_state=!this.password_state}}},_=u,v=(0,d.Z)(_,s,o,!1,null,"0b788ebf",null),h=v.exports}}]);
//# sourceMappingURL=641.9a379a78.js.map